import {QUANTITY_PHOTOS, MIN_LIKES, MAX_LIKES, MIN_COMMENTS, MAX_COMMENTS, QUANTITY_AVATAR, NAMES, DESCRIPTION, MESSAGES} from './constants.js';

import {getRandomInteger, generateCountOfPhotos, getRandomArrayElement,createUniqueId} from './utils.js';

const generateId = generateCountOfPhotos();
const generatePhotoId = generateCountOfPhotos();
const generateCommentId = createUniqueId (MIN_COMMENTS, MAX_COMMENTS);

const createComments = () => ({
  id: generateCommentId(),
  avatar:`img/avatar-${getRandomInteger(1,QUANTITY_AVATAR)}.svg`,
  message: `${getRandomArrayElement(MESSAGES)}`,
  name:`${getRandomArrayElement(NAMES)}`,
});

const createObjectOfPhotos = () => ({
  id: generateId(),
  url: `photos/${generatePhotoId()}.jpg`,
  description: `${getRandomArrayElement(DESCRIPTION)}`,
  likes: `${getRandomInteger (MIN_LIKES, MAX_LIKES)}`,
  comments: Array.from({length: getRandomInteger(MIN_COMMENTS,MAX_COMMENTS)}, createComments)
});

const createArraysOfPhotos = () => Array.from({length: QUANTITY_PHOTOS}, createObjectOfPhotos);


export{createArraysOfPhotos};
